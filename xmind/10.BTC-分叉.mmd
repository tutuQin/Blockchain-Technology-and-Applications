flowchart LR
    Start((åè®®å‡çº§)) --> RuleCheck{æ–°è§„åˆ™çš„æ€§è´¨?}

    %% ================= ç¡¬åˆ†å‰é€»è¾‘ =================
    RuleCheck -- "å®½æ¾/æ‰©å®¹ (e.g. 1MB -> 4MB)" --> HF_Start[ç¡¬åˆ†å‰ Hard Fork]
    
    subgraph HardFork_Process ["ç¡¬åˆ†å‰æµç¨‹: å‘ä¸‹ä¸å…¼å®¹"]
        direction TB
        HF_Start --> HF_Action[æ–°èŠ‚ç‚¹æŒ–å‡º 2MB åŒºå—]
        HF_Action -- "æ—§èŠ‚ç‚¹éªŒè¯ (æŒ‰1MBè§„åˆ™)" --> HF_Old_React["âŒ æ‹’ç»: è®¤ä¸ºåŒºå—éæ³•"]
        HF_Action -- "æ–°èŠ‚ç‚¹éªŒè¯ (æŒ‰4MBè§„åˆ™)" --> HF_New_React["âœ… æ¥å—: è®¤ä¸ºåŒºå—åˆæ³•"]
        
        HF_Old_React --> HF_Result_Old[æ—§èŠ‚ç‚¹: æ²¿æ—§é“¾æŒ–çŸ¿]
        HF_New_React --> HF_Result_New[æ–°èŠ‚ç‚¹: æ²¿æ–°é“¾æŒ–çŸ¿]
        
        HF_Result_Old & HF_Result_New --> HF_End["âš¡ æ°¸ä¹…åˆ†è£‚: ä¸¤æ¡é“¾å¹¶è¡Œ"]
    end

    %% ================= è½¯åˆ†å‰é€»è¾‘ =================
    RuleCheck -- "æ”¶ç´§/é™åˆ¶ (e.g. 1MB -> 0.5MB)" --> SF_Start[è½¯åˆ†å‰ Soft Fork]

    subgraph SoftFork_Process ["è½¯åˆ†å‰æµç¨‹: å‘ä¸‹å…¼å®¹"]
        direction TB
        SF_Start --> SF_Action[æ–°èŠ‚ç‚¹æŒ–å‡º 0.5MB åŒºå—]
        SF_Action -- "æ—§èŠ‚ç‚¹éªŒè¯ (æŒ‰1MBè§„åˆ™)" --> SF_Old_React["âœ… æ¥å—: ç¬¦åˆæ—§è§„åˆ™"]
        SF_Action -- "æ–°èŠ‚ç‚¹éªŒè¯ (æŒ‰0.5MBè§„åˆ™)" --> SF_New_React["âœ… æ¥å—: ç¬¦åˆæ–°è§„åˆ™"]
        
        SF_Old_React & SF_New_React --> SF_Consensus["ğŸ”— æš‚æ—¶å…±è¯†: éƒ½åœ¨ä¸€æ¡é“¾ä¸Š"]
        
        SF_Consensus -- "è‹¥æ—§èŠ‚ç‚¹æŒ–å‡º 0.8MB åŒºå—" --> SF_Conflict{æ–°ç®—åŠ› > 50% ?}
        SF_Conflict -- Yes --> SF_Win[æ–°èŠ‚ç‚¹æ‹’ç» 0.8MB å— --> æ–°é“¾æ›´é•¿]
        SF_Win --> SF_Force[æ—§èŠ‚ç‚¹è¢«è¿«å›æ»š, è·Ÿéšæ–°é•¿é“¾]
        SF_Force --> SF_End["âœ… ç³»ç»Ÿæœªåˆ†è£‚ (æ—§èŠ‚ç‚¹è¢«åŠ¨å‡çº§)"]
    end

    %% æ ·å¼è°ƒæ•´
    style HF_End fill:#f96,stroke:#333,stroke-width:2px
    style SF_End fill:#9f9,stroke:#333,stroke-width:2px
    style HF_Old_React fill:#ffcccc,stroke:#333
    style SF_Old_React fill:#ccffcc,stroke:#333